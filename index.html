

<!-- æ­£ç¢º HTML è¨»è§£ï¼ŒHyperText Markup Language è¶…æ–‡å­—æ¨™è¨˜èªè¨€ -->
<!DOCTYPE html> 
<!--
é€™å€‹ç¶²é åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š
æœå°‹åŠŸèƒ½ - å¯ä»¥æœå°‹æ–°èæ¨™é¡Œ
åˆ†é¡ç¯©é¸ - æŒ‰ç§‘æŠ€ã€æ—…éŠç­‰åˆ†é¡éæ¿¾
ä¾†æºç¯©é¸ - æŒ‰ä¸åŒæ–°èä¾†æºéæ¿¾
éŸ¿æ‡‰å¼è¨­è¨ˆ - æ‰‹æ©Ÿå’Œé›»è…¦éƒ½èƒ½æ­£å¸¸é¡¯ç¤º
è¿”å›é ‚éƒ¨ - æ²å‹•æ™‚å¯å¿«é€Ÿå›åˆ°é é¦–
-->
<html lang="zh-TW">
<head>
    <!-- ==================== ç¶²é åŸºæœ¬è¨­å®š ==================== -->
    <meta charset="UTF-8">
    <!-- è¨­å®šå­—ç¬¦ç·¨ç¢¼ç‚º UTF-8ï¼Œæ”¯æ´ä¸­æ–‡é¡¯ç¤º -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- è®“ç¶²é åœ¨æ‰‹æ©Ÿä¸Šæ­£ç¢ºé¡¯ç¤ºï¼Œå¯ä»¥è‡ªå‹•ç¸®æ”¾ -->
    
    <title>ğŸ“° æˆ‘çš„æ–°èèšåˆ</title>
    <!-- ç¶²é æ¨™é¡Œï¼Œæœƒé¡¯ç¤ºåœ¨ç€è¦½å™¨åˆ†é ä¸Š -->

    <!-- ==================== CSS æ¨£å¼è¡¨é–‹å§‹ ==================== -->
    <style>
        /* ========== å…¨åŸŸé‡ç½®æ¨£å¼ ========== */
        /* ç§»é™¤æ‰€æœ‰å…ƒç´ çš„é è¨­é‚Šè·å’Œå…§è·ï¼Œè®“æ¨£å¼æ›´å®¹æ˜“æ§åˆ¶ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ========== ç¶²é ä¸»é«”æ¨£å¼ ========== */
        body {
            /* è¨­å®šå­—é«”ï¼šå„ªå…ˆä½¿ç”¨ç³»çµ±å­—é«”ï¼Œç¢ºä¿åœ¨ä¸åŒè£ç½®ä¸Šéƒ½ç¾è§€ */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", sans-serif;
            
            /* èƒŒæ™¯æ¼¸å±¤ï¼šå¾ç´«è—è‰²æ¼¸è®Šåˆ°ç´«è‰² */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            
            /* æœ€å°é«˜åº¦è¨­ç‚ºæ•´å€‹è¦–çª—é«˜åº¦ */
            min-height: 100vh;
            
            /* å››å‘¨ç•™ç™½ 20px */
            padding: 20px;
        }

        /* ========== ä¸»å®¹å™¨ ========== */
        .container {
            /* æœ€å¤§å¯¬åº¦ 1200pxï¼Œå…§å®¹ä¸æœƒå¤ªå¯¬ */
            max-width: 1200px;
            
            /* å·¦å³è‡ªå‹•é‚Šè·ï¼Œè®“å®¹å™¨ç½®ä¸­ */
            margin: 0 auto;
        }

        /* ========== é é¦–å€åŸŸ ========== */
        header {
            background: white;
            padding: 30px;
            border-radius: 15px; /* åœ“è§’ */
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); /* é™°å½±æ•ˆæœ */
            margin-bottom: 30px;
        }

        /* é é¦–é ‚éƒ¨å€åŸŸ */
        .header-top {
            text-align: center;
            margin-bottom: 25px;
        }

        /* ä¸»æ¨™é¡Œ */
        h1 {
            color: #667eea; /* ç´«è—è‰² */
            font-size: 2.5em; /* å­—é«”å¤§å° */
            margin-bottom: 10px;
        }

        /* ========== çµ±è¨ˆè³‡è¨Šå€ ========== */
        .stats {
            display: flex; /* ä½¿ç”¨å½ˆæ€§ç›’å­å¸ƒå±€ */
            justify-content: center; /* æ°´å¹³ç½®ä¸­ */
            gap: 20px; /* é …ç›®é–“è· */
            flex-wrap: wrap; /* å…è¨±æ›è¡Œ */
            margin-top: 15px;
        }

        /* å–®å€‹çµ±è¨ˆé …ç›® */
        .stat-item {
            color: #666;
            font-size: 0.9em;
        }

        /* çµ±è¨ˆæ•¸å­— */
        .stat-number {
            font-weight: bold;
            color: #667eea;
        }

        /* ========== æœå°‹æ¡†å€åŸŸ ========== */
        .search-box {
            margin-bottom: 20px;
        }

        /* æœå°‹è¼¸å…¥æ¡† */
        .search-input {
            width: 100%; /* å¯¬åº¦ 100% */
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px; /* åœ“è§’ */
            font-size: 1em;
            transition: all 0.3s; /* æ‰€æœ‰è®ŠåŒ–éƒ½æœ‰ 0.3 ç§’çš„éæ¸¡æ•ˆæœ */
        }

        /* æœå°‹æ¡†è¢«é»æ“Šæ™‚çš„æ¨£å¼ */
        .search-input:focus {
            outline: none; /* ç§»é™¤é è¨­çš„å¤–æ¡† */
            border-color: #667eea; /* é‚Šæ¡†è®Šæˆç´«è—è‰² */
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); /* æ·»åŠ å…‰æšˆæ•ˆæœ */
        }

        /* ========== ç¯©é¸å™¨å€åŸŸ ========== */
        .filters {
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            gap: 15px;
        }

        /* å–®å€‹ç¯©é¸å€å¡Š */
        .filter-section {
            display: flex;
            flex-wrap: wrap; /* å…è¨±æ›è¡Œ */
            gap: 10px;
            align-items: center; /* å‚ç›´ç½®ä¸­å°é½Š */
        }

        /* ç¯©é¸å™¨æ¨™ç±¤ï¼ˆä¾‹å¦‚ï¼šã€Œåˆ†é¡:ã€ã€Œä¾†æº:ã€ï¼‰ */
        .filter-label {
            font-weight: 600;
            color: #333;
            min-width: 80px;
        }

        /* ç¯©é¸æŒ‰éˆ•å®¹å™¨ */
        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            flex: 1; /* ä½”æ“šå‰©é¤˜ç©ºé–“ */
        }

        /* ç¯©é¸æŒ‰éˆ•æ¨£å¼ */
        .filter-btn {
            padding: 10px 20px;
            border: 2px solid #667eea; /* ç´«è—è‰²é‚Šæ¡† */
            background: white;
            color: #667eea;
            border-radius: 25px; /* åœ“è§’ */
            cursor: pointer; /* æ»‘é¼ ç§»ä¸Šå»è®Šæˆæ‰‹æŒ‡ */
            font-size: 0.9em;
            transition: all 0.3s; /* éæ¸¡æ•ˆæœ */
            white-space: nowrap; /* æ–‡å­—ä¸æ›è¡Œ */
        }

        /* æ»‘é¼ ç§»åˆ°æŒ‰éˆ•ä¸Šæ™‚ */
        .filter-btn:hover {
            background: #f0f0f0; /* èƒŒæ™¯è®Šæ·ºç°è‰² */
        }

        /* æŒ‰éˆ•è¢«é¸ä¸­æ™‚ï¼ˆå•Ÿç”¨ç‹€æ…‹ï¼‰ */
        .filter-btn.active {
            background: #667eea; /* èƒŒæ™¯è®Šç´«è—è‰² */
            color: white; /* æ–‡å­—è®Šç™½è‰² */
        }

        /* ========== çµæœè³‡è¨Šå€ ========== */
        .results-info {
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between; /* å…©ç«¯å°é½Š */
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* çµæœè¨ˆæ•¸æ–‡å­— */
        .results-count {
            color: #666;
            font-size: 0.95em;
        }

        /* æ¸…é™¤ç¯©é¸æŒ‰éˆ• */
        .clear-filters {
            padding: 8px 16px;
            background: #ff6b6b; /* ç´…è‰²èƒŒæ™¯ */
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s;
        }

        /* æ»‘é¼ ç§»åˆ°æ¸…é™¤æŒ‰éˆ•ä¸Šæ™‚ */
        .clear-filters:hover {
            background: #ff5252; /* æ›´æ·±çš„ç´…è‰² */
        }

        /* éš±è—æ¸…é™¤æŒ‰éˆ• */
        .clear-filters.hidden {
            display: none;
        }

        /* ========== æ–°èç¶²æ ¼å¸ƒå±€ ========== */
        .news-grid {
            /* ä½¿ç”¨ç¶²æ ¼å¸ƒå±€ï¼Œè‡ªå‹•å¡«å……ï¼Œæ¯å€‹æ ¼å­æœ€å° 320px */
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px; /* æ ¼å­é–“è· */
        }

        /* ========== æ–°èå¡ç‰‡ ========== */
        .news-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); /* é™°å½±æ•ˆæœ */
            transition: all 0.3s;
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            gap: 15px;
        }

        /* æ»‘é¼ ç§»åˆ°å¡ç‰‡ä¸Šæ™‚ */
        .news-card:hover {
            transform: translateY(-5px); /* å‘ä¸Šç§»å‹• 5px */
            box-shadow: 0 10px 25px rgba(0,0,0,0.2); /* é™°å½±è®Šæ·± */
        }

        /* æ–°èæ¨™é¡Œ */
        .news-title {
            font-size: 1.15em;
            color: #333;
            text-decoration: none; /* ç§»é™¤åº•ç·š */
            display: block;
            font-weight: 600;
            line-height: 1.5; /* è¡Œé«˜ */
            flex: 1; /* ä½”æ“šå‰©é¤˜ç©ºé–“ */
        }

        /* æ»‘é¼ ç§»åˆ°æ¨™é¡Œä¸Šæ™‚ */
        .news-title:hover {
            color: #667eea; /* è®Šæˆç´«è—è‰² */
        }

        /* æ–°èå…ƒè³‡è¨Šï¼ˆåˆ†é¡ã€ä¾†æºï¼‰ */
        .news-meta {
            display: flex;
            gap: 10px;
            font-size: 0.85em;
            color: #666;
            flex-wrap: wrap;
        }

        /* æ¨™ç±¤æ¨£å¼ï¼ˆç”¨æ–¼åˆ†é¡ï¼‰ */
        .badge {
            background: #667eea; /* é è¨­ç´«è—è‰² */
            color: white;
            padding: 5px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            white-space: nowrap; /* ä¸æ›è¡Œ */
        }

        /* æ—…éŠåˆ†é¡çš„ç‰¹æ®Šé¡è‰² */
        .badge.travel {
            background: #f093fb; /* ç²‰ç´«è‰² */
        }

        /* ä¾†æºæ¨™ç±¤ */
        .source-tag {
            color: #888;
            font-size: 0.85em;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* ä¾†æºåœ–æ¨™ */
        .source-icon {
            display: inline-block;
            width: 16px;
            height: 16px;
        }

        /* ========== è¼‰å…¥å‹•ç•« ========== */
        .loading {
            text-align: center;
            color: white;
            font-size: 1.2em;
            padding: 50px;
        }

        /* æ—‹è½‰çš„è¼‰å…¥æŒ‡ç¤ºå™¨ */
        .spinner {
            border: 4px solid rgba(255,255,255,0.3); /* åŠé€æ˜ç™½è‰²é‚Šæ¡† */
            border-top: 4px solid white; /* é ‚éƒ¨ç™½è‰²é‚Šæ¡† */
            border-radius: 50%; /* åœ“å½¢ */
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite; /* ç„¡é™æ—‹è½‰å‹•ç•« */
            margin: 20px auto;
        }

        /* æ—‹è½‰å‹•ç•«å®šç¾© */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ========== éŒ¯èª¤è¨Šæ¯ ========== */
        .error {
            background: #ff6b6b; /* ç´…è‰²èƒŒæ™¯ */
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        /* ========== ç©ºç‹€æ…‹ï¼ˆæ²’æœ‰è³‡æ–™æ™‚ï¼‰ ========== */
        .empty-state {
            background: white;
            padding: 60px 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* ç©ºç‹€æ…‹åœ–æ¨™ */
        .empty-state-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        /* ç©ºç‹€æ…‹æ–‡å­— */
        .empty-state-text {
            color: #666;
            font-size: 1.1em;
        }

        /* ========== è¿”å›é ‚éƒ¨æŒ‰éˆ• ========== */
        .back-to-top {
            position: fixed; /* å›ºå®šå®šä½ */
            bottom: 30px; /* è·é›¢åº•éƒ¨ 30px */
            right: 30px; /* è·é›¢å³é‚Š 30px */
            background: #667eea;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%; /* åœ“å½¢æŒ‰éˆ• */
            border: none;
            cursor: pointer;
            font-size: 1.5em;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            opacity: 0; /* åˆå§‹é€æ˜ */
            visibility: hidden; /* åˆå§‹éš±è— */
        }

        /* æŒ‰éˆ•é¡¯ç¤ºæ™‚ */
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        /* æ»‘é¼ ç§»åˆ°æŒ‰éˆ•ä¸Šæ™‚ */
        .back-to-top:hover {
            background: #5568d3;
            transform: translateY(-3px); /* å‘ä¸Šç§»å‹• */
        }

        /* ========== æ‰‹æ©Ÿç‰ˆéŸ¿æ‡‰å¼è¨­è¨ˆ ========== */
        /* ç•¶è¢å¹•å¯¬åº¦å°æ–¼ 768px æ™‚ï¼ˆæ‰‹æ©Ÿï¼‰ */
        @media (max-width: 768px) {
            body {
                padding: 10px; /* æ¸›å°‘ç•™ç™½ */
            }
            
            h1 {
                font-size: 2em; /* æ¨™é¡Œè®Šå° */
            }
            
            header {
                padding: 20px; /* æ¸›å°‘å…§è· */
            }
            
            .news-grid {
                grid-template-columns: 1fr; /* å–®åˆ—é¡¯ç¤º */
            }
            
            .filter-section {
                flex-direction: column; /* å‚ç›´æ’åˆ— */
                align-items: flex-start; /* å·¦å°é½Š */
            }
            
            .filter-label {
                width: 100%; /* æ¨™ç±¤ä½”æ»¿å¯¬åº¦ */
            }
            
            .results-info {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .back-to-top {
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
    <!-- ==================== CSS æ¨£å¼è¡¨çµæŸ ==================== -->
</head>

<body>
    <div class="container">
        <!-- ==================== é é¦–å€åŸŸé–‹å§‹ ==================== -->
        <header>
            <div class="header-top">
                <h1>ğŸ“° æˆ‘çš„æ–°èèšåˆ</h1>
                
                <!-- çµ±è¨ˆè³‡è¨Š -->
                <div class="stats">
                    <div class="stat-item">
                        æ›´æ–°æ™‚é–“: <span id="updateTime" class="stat-number">è¼‰å…¥ä¸­...</span>
                    </div>
                    <div class="stat-item">
                        ç¸½æ–‡ç« æ•¸: <span id="totalCount" class="stat-number">0</span>
                    </div>
                </div>
            </div>

            <!-- æœå°‹æ¡† -->
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    class="search-input" 
                    placeholder="ğŸ” æœå°‹æ–°èæ¨™é¡Œ..."
                >
            </div>

            <!-- ç¯©é¸å™¨å€åŸŸ -->
            <div class="filters">
                <!-- åˆ†é¡ç¯©é¸ -->
                <div class="filter-section">
                    <span class="filter-label">åˆ†é¡:</span>
                    <div class="filter-buttons" id="categoryFilters">
                        <button class="filter-btn active" data-type="category" data-value="all">å…¨éƒ¨</button>
                        <!-- å…¶ä»–åˆ†é¡æŒ‰éˆ•æœƒç”± JavaScript å‹•æ…‹ç”¢ç”Ÿ -->
                    </div>
                </div>

                <!-- ä¾†æºç¯©é¸ -->
                <div class="filter-section">
                    <span class="filter-label">ä¾†æº:</span>
                    <div class="filter-buttons" id="sourceFilters">
                        <button class="filter-btn active" data-type="source" data-value="all">å…¨éƒ¨</button>
                        <!-- å…¶ä»–ä¾†æºæŒ‰éˆ•æœƒç”± JavaScript å‹•æ…‹ç”¢ç”Ÿ -->
                    </div>
                </div>
            </div>
        </header>
        <!-- ==================== é é¦–å€åŸŸçµæŸ ==================== -->

        <!-- ==================== çµæœè³‡è¨Šå€ ==================== -->
        <div class="results-info" id="resultsInfo" style="display: none;">
            <span class="results-count" id="resultsCount">é¡¯ç¤º 0 ç¯‡æ–°è</span>
            <button class="clear-filters hidden" id="clearFilters">æ¸…é™¤ç¯©é¸</button>
        </div>

        <!-- ==================== æ–°èå®¹å™¨ ==================== -->
        <!-- é€™è£¡æœƒé¡¯ç¤ºæ‰€æœ‰æ–°èå¡ç‰‡ï¼Œåˆå§‹é¡¯ç¤ºè¼‰å…¥å‹•ç•« -->
        <div id="newsContainer" class="loading">
            <div class="spinner"></div>
            <p>æ­£åœ¨è¼‰å…¥æ–°è...</p>
        </div>
    </div>

    <!-- ==================== è¿”å›é ‚éƒ¨æŒ‰éˆ• ==================== -->
    <button class="back-to-top" id="backToTop">â†‘</button>

    <!-- ==================== JavaScript ç¨‹å¼ç¢¼é–‹å§‹ ==================== -->
    <script>
        // ==================== å…¨åŸŸè®Šæ•¸å®šç¾© ====================
        
        // å„²å­˜æ‰€æœ‰æ–°èè³‡æ–™çš„é™£åˆ—
        let allNews = [];
        
        // ç›®å‰çš„ç¯©é¸æ¢ä»¶
        let currentFilters = {
            category: 'all',  // åˆ†é¡ç¯©é¸ï¼ˆé è¨­ï¼šå…¨éƒ¨ï¼‰
            source: 'all',    // ä¾†æºç¯©é¸ï¼ˆé è¨­ï¼šå…¨éƒ¨ï¼‰
            search: ''        // æœå°‹é—œéµå­—ï¼ˆé è¨­ï¼šç©ºç™½ï¼‰
        };

        // ä¾†æºåœ–æ¨™æ˜ å°„è¡¨ï¼ˆå¯ä»¥è‡ªè¨‚æ¯å€‹ä¾†æºçš„åœ–æ¨™ï¼‰
        const sourceIcons = {
            'Unwire.hk': 'ğŸ’»',
            'NewMobileLife': 'ğŸ“±',
            'FlyDayhk': 'ğŸ«',
            'HolidaySmart': 'ğŸŒ´',
            'MeetHK': 'âœˆï¸'
        };

        // ==================== ä¸»è¦åŠŸèƒ½å‡½æ•¸ ====================

        /**
         * è¼‰å…¥æ–°èè³‡æ–™
         * å¾ news.json æª”æ¡ˆè®€å–æ–°èè³‡æ–™ä¸¦é¡¯ç¤º
         */
        async function loadNews() {
            try {
                // å¾ä¼ºæœå™¨è®€å– news.json æª”æ¡ˆ
                const response = await fetch('news.json');
                
                // å¦‚æœè®€å–å¤±æ•—ï¼Œæ‹‹å‡ºéŒ¯èª¤
                if (!response.ok) {
                    throw new Error('ç„¡æ³•è¼‰å…¥æ–°èæ•¸æ“š');
                }
                
                // å°‡å›æ‡‰è½‰æ›ç‚º JSON æ ¼å¼
                const data = await response.json();
                
                // å°‡æ–°èè³‡æ–™å­˜å…¥å…¨åŸŸè®Šæ•¸
                allNews = data.news || [];
                
                // æ›´æ–°é é¢ä¸Šçš„çµ±è¨ˆè³‡è¨Š
                document.getElementById('updateTime').textContent = data.update_time || 'æœªçŸ¥';
                document.getElementById('totalCount').textContent = data.total_count || allNews.length;
                
                // åˆå§‹åŒ–ç¯©é¸å™¨æŒ‰éˆ•ï¼ˆæ ¹æ“šè³‡æ–™ç”¢ç”Ÿåˆ†é¡å’Œä¾†æºæŒ‰éˆ•ï¼‰
                initializeFilters();
                
                // é¡¯ç¤ºæ‰€æœ‰æ–°è
                displayNews(allNews);
                
                // é¡¯ç¤ºçµæœè³‡è¨Šå€
                document.getElementById('resultsInfo').style.display = 'flex';
                
            } catch (error) {
                // å¦‚æœç™¼ç”ŸéŒ¯èª¤ï¼Œé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
                showError('è¼‰å…¥æ–°èå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
                console.error('Error:', error);
            }
        }

        /**
         * åˆå§‹åŒ–ç¯©é¸å™¨æŒ‰éˆ•
         * æ ¹æ“šæ–°èè³‡æ–™å‹•æ…‹ç”¢ç”Ÿåˆ†é¡å’Œä¾†æºçš„ç¯©é¸æŒ‰éˆ•
         */
        function initializeFilters() {
            // å®šç¾©åˆ†é¡çš„é¡¯ç¤ºé †åº
            const categoryOrder = ['ç§‘æŠ€', 'æ—…éŠ'];
            
            // å¾æ‰€æœ‰æ–°èä¸­æå–åˆ†é¡ï¼Œä¸¦å»é™¤é‡è¤‡é …
            const allCategories = allNews.map(item => item.category);
            const categories = [...new Set(allCategories)]
                .sort((a, b) => {
                    // æ ¹æ“šè‡ªè¨‚é †åºæ’åºåˆ†é¡
                    const indexA = categoryOrder.indexOf(a);
                    const indexB = categoryOrder.indexOf(b);
                    if (indexA === -1) return 1;
                    if (indexB === -1) return -1;
                    return indexA - indexB;
                });
            
            // ç”¢ç”Ÿåˆ†é¡æŒ‰éˆ•
            const categoryContainer = document.getElementById('categoryFilters');
            categories.forEach(category => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.dataset.type = 'category';
                btn.dataset.value = category;
                btn.textContent = category;
                categoryContainer.appendChild(btn);
            });
            
            // å¾æ‰€æœ‰æ–°èä¸­æå–ä¾†æºï¼Œä¸¦å»é™¤é‡è¤‡é …ï¼Œç„¶å¾Œæ’åº
            const sources = [...new Set(allNews.map(item => item.source))].sort();
            
            // ç”¢ç”Ÿä¾†æºæŒ‰éˆ•
            const sourceContainer = document.getElementById('sourceFilters');
            sources.forEach(source => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.dataset.type = 'source';
                btn.dataset.value = source;
                
                // å¦‚æœæœ‰å®šç¾©åœ–æ¨™ï¼Œå°±åŠ ä¸Šåœ–æ¨™
                const icon = sourceIcons[source] || '';
                btn.textContent = icon ? `${icon} ${source}` : source;
                sourceContainer.appendChild(btn);
            });
        }

        /**
         * é¡¯ç¤ºæ–°è
         * @param {Array} newsArray - è¦é¡¯ç¤ºçš„æ–°èé™£åˆ—
         */
        function displayNews(newsArray) {
            const container = document.getElementById('newsContainer');
            
            // æ›´æ–°çµæœè¨ˆæ•¸
            document.getElementById('resultsCount').textContent = 
                `é¡¯ç¤º ${newsArray.length} ç¯‡æ–°è`;
            
            // å¦‚æœæ²’æœ‰æ–°èï¼Œé¡¯ç¤ºç©ºç‹€æ…‹
            if (newsArray.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“­</div>
                        <div class="empty-state-text">æ²’æœ‰æ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„æ–°è</div>
                    </div>
                `;
                return;
            }
            
            // æ”¹è®Šå®¹å™¨æ¨£å¼ç‚ºç¶²æ ¼å¸ƒå±€
            container.className = 'news-grid';
            
            // ç”¢ç”Ÿæ–°èå¡ç‰‡çš„ HTML
            container.innerHTML = newsArray.map(item => {
                // å–å¾—ä¾†æºåœ–æ¨™ï¼Œå¦‚æœæ²’æœ‰å®šç¾©å°±ç”¨é è¨­çš„ ğŸ“°
                const icon = sourceIcons[item.source] || 'ğŸ“°';
                
                return `
                    <div class="news-card" data-category="${item.category}" data-source="${item.source}">
                        <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="news-title">
                            ${highlightSearchTerm(item.title, currentFilters.search)}
                        </a>
                        <div class="news-meta">
                            <span class="badge ${item.category === 'æ—…éŠ' ? 'travel' : ''}">${item.category}</span>
                            <span class="source-tag">
                                <span class="source-icon">${icon}</span>
                                ${item.source}
                            </span>
                        </div>
                    </div>
                `;
            }).join('');
        }

        /**
         * é«˜äº®æœå°‹é—œéµå­—
         * @param {string} text - åŸå§‹æ–‡å­—
         * @param {string} searchTerm - æœå°‹é—œéµå­—
         * @return {string} - é«˜äº®å¾Œçš„æ–‡å­—
         */
        function highlightSearchTerm(text, searchTerm) {
            // å¦‚æœæ²’æœ‰æœå°‹é—œéµå­—ï¼Œç›´æ¥å›å‚³åŸæ–‡
            if (!searchTerm) return text;
            
            // å»ºç«‹æ­£å‰‡è¡¨é”å¼ï¼Œä¸å€åˆ†å¤§å°å¯«
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            
            // å°‡ç¬¦åˆçš„æ–‡å­—ç”¨ mark æ¨™ç±¤åŒ…èµ·ä¾†ï¼ˆé»ƒè‰²èƒŒæ™¯ï¼‰
            return text.replace(regex, '<mark style="background: #ffeb3b; padding: 2px 4px; border-radius: 3px;">$1</mark>');
        }

        /**
         * ç¯©é¸æ–°è
         * æ ¹æ“šç›®å‰çš„ç¯©é¸æ¢ä»¶éæ¿¾æ–°èä¸¦é¡¯ç¤º
         */
        function filterNews() {
            // å¾æ‰€æœ‰æ–°èé–‹å§‹
            let filtered = allNews;
            
            // å¦‚æœæœ‰é¸æ“‡ç‰¹å®šåˆ†é¡ï¼Œé€²è¡Œåˆ†é¡ç¯©é¸
            if (currentFilters.category !== 'all') {
                filtered = filtered.filter(item => item.category === currentFilters.category);
            }
            
            // å¦‚æœæœ‰é¸æ“‡ç‰¹å®šä¾†æºï¼Œé€²è¡Œä¾†æºç¯©é¸
            if (currentFilters.source !== 'all') {
                filtered = filtered.filter(item => item.source === currentFilters.source);
            }
            
            // å¦‚æœæœ‰è¼¸å…¥æœå°‹é—œéµå­—ï¼Œé€²è¡Œæœå°‹ç¯©é¸
            if (currentFilters.search) {
                filtered = filtered.filter(item => 
                    item.title.toLowerCase().includes(currentFilters.search.toLowerCase())
                );
            }
            
            // é¡¯ç¤ºç¯©é¸å¾Œçš„æ–°è
            displayNews(filtered);
            
            // æ›´æ–°æ¸…é™¤æŒ‰éˆ•çš„é¡¯ç¤ºç‹€æ…‹
            updateClearButton();
        }

        /**
         * æ›´æ–°æ¸…é™¤æŒ‰éˆ•çš„é¡¯ç¤ºç‹€æ…‹
         * å¦‚æœæœ‰ä»»ä½•ç¯©é¸æ¢ä»¶ï¼Œé¡¯ç¤ºæ¸…é™¤æŒ‰éˆ•ï¼›å¦å‰‡éš±è—
         */
        function updateClearButton() {
            const clearBtn = document.getElementById('clearFilters');
            
            // æª¢æŸ¥æ˜¯å¦æœ‰å•Ÿç”¨ä»»ä½•ç¯©é¸æ¢ä»¶
            const hasActiveFilters = 
                currentFilters.category !== 'all' || 
                currentFilters.source !== 'all' || 
                currentFilters.search !== '';
            
            // æ ¹æ“šæ˜¯å¦æœ‰ç¯©é¸æ¢ä»¶ä¾†é¡¯ç¤ºæˆ–éš±è—æŒ‰éˆ•
            if (hasActiveFilters) {
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.classList.add('hidden');
            }
        }

        /**
         * æ¸…é™¤æ‰€æœ‰ç¯©é¸æ¢ä»¶
         * é‡ç½®æ‰€æœ‰ç¯©é¸å™¨åˆ°åˆå§‹ç‹€æ…‹
         */
        function clearAllFilters() {
            // é‡ç½®ç¯©é¸æ¢ä»¶
            currentFilters = {
                category: 'all',
                source: 'all',
                search: ''
            };
            
            // é‡ç½®æ‰€æœ‰æŒ‰éˆ•çš„å•Ÿç”¨ç‹€æ…‹
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                // åªæœ‰ã€Œå…¨éƒ¨ã€æŒ‰éˆ•è¨­ç‚ºå•Ÿç”¨
                if (btn.dataset.value === 'all') {
                    btn.classList.add('active');
                }
            });
            
            // æ¸…ç©ºæœå°‹æ¡†
            document.getElementById('searchInput').value = '';
            
            // é‡æ–°é¡¯ç¤ºæ‰€æœ‰æ–°è
            filterNews();
        }

        /**
         * é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
         * @param {string} message - éŒ¯èª¤è¨Šæ¯æ–‡å­—
         */
        function showError(message) {
            document.getElementById('newsContainer').innerHTML = 
                `<div class="error">âš ï¸ ${message}</div>`;
        }

        // ==================== äº‹ä»¶ç›£è½å™¨ ====================

        /**
         * ç¯©é¸æŒ‰éˆ•é»æ“Šäº‹ä»¶
         * ç•¶ä½¿ç”¨è€…é»æ“Šåˆ†é¡æˆ–ä¾†æºæŒ‰éˆ•æ™‚è§¸ç™¼
         */
        document.addEventListener('click', (e) => {
            // æª¢æŸ¥æ˜¯å¦é»æ“Šäº†ç¯©é¸æŒ‰éˆ•
            if (e.target.classList.contains('filter-btn')) {
                const type = e.target.dataset.type;   // å–å¾—é¡å‹ï¼ˆcategory æˆ– sourceï¼‰
                const value = e.target.dataset.value; // å–å¾—å€¼
                
                // å°‡åŒä¸€çµ„çš„æ‰€æœ‰æŒ‰éˆ•è¨­ç‚ºæœªå•Ÿç”¨
                const siblings = e.target.parentElement.querySelectorAll('.filter-btn');
                siblings.forEach(btn => btn.classList.remove('active'));
                
                // å°‡è¢«é»æ“Šçš„æŒ‰éˆ•è¨­ç‚ºå•Ÿç”¨
                e.target.classList.add('active');
                
                // æ›´æ–°ç¯©é¸æ¢ä»¶
                currentFilters[type] = value;
                
                // åŸ·è¡Œç¯©é¸
                filterNews();
            }
        });

        /**
         * æœå°‹æ¡†è¼¸å…¥äº‹ä»¶
         * ç•¶ä½¿ç”¨è€…åœ¨æœå°‹æ¡†è¼¸å…¥æ–‡å­—æ™‚è§¸ç™¼
         * ä½¿ç”¨é˜²æŠ–å‹•ï¼ˆdebounceï¼‰æŠ€è¡“ï¼Œé¿å…æ¯æ¬¡æŒ‰éµéƒ½åŸ·è¡Œæœå°‹
         */
        let searchTimeout; // ç”¨æ–¼å„²å­˜è¨ˆæ™‚å™¨
        document.getElementById('searchInput').addEventListener('input', (e) => {
            // æ¸…é™¤ä¹‹å‰çš„è¨ˆæ™‚å™¨
            clearTimeout(searchTimeout);
            
            // è¨­å®šæ–°çš„è¨ˆæ™‚å™¨ï¼Œ300 æ¯«ç§’å¾ŒåŸ·è¡Œæœå°‹
            // é€™æ¨£ä½¿ç”¨è€…å¿«é€Ÿè¼¸å…¥æ™‚ä¸æœƒä¸€ç›´è§¸ç™¼æœå°‹
            searchTimeout = setTimeout(() => {
                currentFilters.search = e.target.value.trim();
                filterNews();
            }, 300);
        });

        /**
         * æ¸…é™¤ç¯©é¸æŒ‰éˆ•é»æ“Šäº‹ä»¶
         */
        document.getElementById('clearFilters').addEventListener('click', clearAllFilters);

        /**
         * è¿”å›é ‚éƒ¨æŒ‰éˆ•çš„é¡¯ç¤ºæ§åˆ¶
         * ç•¶é é¢æ²å‹•è¶…é 300px æ™‚é¡¯ç¤ºæŒ‰éˆ•
         */
        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        /**
         * è¿”å›é ‚éƒ¨æŒ‰éˆ•é»æ“Šäº‹ä»¶
         * å¹³æ»‘æ²å‹•å›åˆ°é é¢é ‚éƒ¨
         */
        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth' // å¹³æ»‘æ²å‹•æ•ˆæœ
            });
        });

        // ==================== åˆå§‹åŒ– ====================
        /**
         * ç•¶ç¶²é è¼‰å…¥å®Œæˆæ™‚ï¼ŒåŸ·è¡Œ loadNews å‡½æ•¸
         */
        document.addEventListener('DOMContentLoaded', loadNews);
    </script>
    <!-- ==================== JavaScript ç¨‹å¼ç¢¼çµæŸ ==================== -->
</body>
</html>